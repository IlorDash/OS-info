## Вариант 9 курсового проекта дисциплины "Операционные системы"

__Описание задания:__  
Необходимо разработать прототип встраиваемой системы, как совокупность программного обеспечения и стенда на базе Raspberry Pi4, которая реализует функции полетного контролера. Данные об направлении движения, углов ориентации и высоты определяются с помощью навигационного модуля (или гироскопа) и дальномера (высота от поверхности), данные выводятся на LCD-дисплей. Все действия должны дублироваться в терминал персонального компьютера, подключенного к встраиваемой системе через ssh-соединение.   

__Общая схема и принципы работы встраиваемой системы:__  
Схема соединений всего используемого оборудования представлена на рисунке ниже:  
![Схема варианта 9](Вариант9-1.png)


__Перечень используемого оборудования:__
* микрокомпьютер Raspberry Pi 4;
* отладочная плата OS с подключенными: дальномером HC-SR04/GP2Y0A02YK0F (поключение через ADC1115), навигационным модулем (pmod nav) или гироскопом (L3G4200D), а также LCD MSP3521;
* персональный компьютер c установленным ПО (Putty, WinSCP, Git).

__Требования к работе встраиваемой системы:__  
1. Встраиваемая система должна обеспечивать вывод навигационных параметров объекта за счет выполнения трех основных программ: 1 – программа, работающая с LCD-дисплеем и выводящая навигационные параметры, 2 – программа, принимающая сигналы с дальномера и определяющая высоту объекта и передающее ее в программу-1, 3 – программа, принимающая и обрабатывающая данные навигационного модуля или гироскопа и передающая результат обработки в программу-1 по одному из способов межпроцессного взаимодействия (именованные каналы).
2. Программа-1 должна обеспечивать взаимодействие RPi с модулем LCD-Display по интерфейсу SPI и выполняет следующие функции:
* настройка и инициализация LCD-дисплея;
* запись и чтение значений регистров LCD-дисплея;
* прием данных от навигационного модуля и дальномера по именованным каналам;
* построчный вывод параметров движения (углы ориентации, ускорения, дирекционный угол, высота) с частотой 10Гц; Опционально: отрисовка параметров движения объекта.
3. Программа-2 должна обеспечивать взаимодействие RPi с дальномером по GPIO/АЦП и выполняет следующие функции:
* запись и чтение значений GPIO/АЦП и вычисление расстояния от поверхности;
* отправка значения расстояния с временной меткой системы по именованным каналам.
4. Программа-3 должна обеспечивать взаимодействие с навигационным модулем (или гироскопом) по SPI, а также выполняет следующие функции:
* настройка и инициализация навигационного модуля по SPI;
* чтение и запись данных с SPI для получения навигационных параметров: углы ориентации (тангаж, рыскание, крен), ускорения по осям xyz, показания магнетометра;
* передача навигационных параметров в программу -2 по именованному каналу.
* обмен сообщениями со стандартным потоком ввода/вывода, в том числе прием команд от пользователя (см. общие требования к работе ВС);
5. Встраиваемая система должна обеспечивать выдачу сообщений с навигационными параметрами встраиваемой системы в следующем формате: 
* «Время ______ («hh:mm:ss»)»;
* «Углы ориентации: _______(град/град/град)»;
* «Высота: ________ (м)»;
* «Направление движения: _______ (град)»;


__Порядок выполнения и сдачи [курсового проекта](task_v09.md):__
1. [Лабораторная работа №1](lab_01.md)
2. [Лабораторная работа №2](lab_02.md)
3. [Лабораторная работа №3](lab_03.md)
4. [Лабораторная работа №4](lab_04.md)
5. [Лабораторная работа №5](lab_05.md)
6. [Лабораторная работа №6](lab_06.md)
7. [Лабораторная работа №7](lab_07.md)
8. [Лабораторная работа №8](lab_08.md)
