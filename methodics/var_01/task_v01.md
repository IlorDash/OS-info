## Вариант 1 курсового проекта дисциплины "Операционные системы"

__Описание задания:__  
Необходимо разработать прототип встраиваемой системы, как совокупность программного обеспечения и стенда на базе Raspberry Pi4, которая позволяла бы определять расстояние до грозы по принципу измерения транзитного времени – разница между вспышкой (имитируется фонарем) и звуковым сигналов (имитируется хлопком). Встраиваемая система должна обеспечивать измерение расстояний для серии из нескольких вспышек и последующих за ними звуковыми сигналами. Результат измерения расстояния (или серии измеренных расстояний) должны выводиться в терминале персонального компьютера, подключенного к встраиваемой системе через ssh-соединение.  
__Общая схема и принципы работы встраиваемой системы:__  
Схема соединений всего используемого оборудования представлена на рисунке ниже.


__Перечень используемого оборудования:__
* микрокомпьютер Raspberry Pi 4;
* отладочная плата OS с подключенными: модуль АЦП ADS1115 16-Bit, датчик звука KY-038, фоторезистор GL5516;
* персональный компьютер c установленным ПО (Putty, WinSCP, Git).

__Требования к работе встраиваемой системы:__  
1. Встраиваемая система должна обеспечивать вычисление расстояния до грозы за счет выполнения трех основных программ: 1 – программа, принимающая сигналы с датчика звука, 2 – программа, принимающая сигналы с фоторезистора, 3 – программа, получающая данные от программ 1 и 2 по одному из способов межпроцессного взаимодействия (именованные и неименованные каналы).  
2. Программа-1 должна обеспечивать взаимодействие RPi с датчиком звука по GPIO и выполняет следующие функции:  
* чтение значений GPIO о срабатывании датчика звука;
* изменение скорости опроса датчика звука по аргументу при старте или через команду по именованным/не именованным каналам;
* отправка сигнала о хлопке с временной меткой системы по именованным/не именованным каналам;
* далее данная программа должна быть преобразована в драйвер символьного устройства GPIO и подключаться при старте операционной системы
3. Программа-2 должна обеспечивать взаимодействие RPi 4 с модулем АЦП ADS1115 по интерфейсу I2C и выполняет следующие функции:  
* настройка режима работы АЦП: тип подключения - несимметричный/дифференциальный, скорость обработки данных;
* запись и чтение значений регистров АЦП;
* изменение скорости опроса АЦП по аргументу при старте или через команду по именованным/не именованным каналам;
* преобразование данных АЦП в значение освещенности;
* установка уровня освещенности для распознавания вспышки по аргументу при старте или через команду по именованным/не именованным каналам;
* отправка сигнала о вспышке с временной меткой системы по именованным/не именованным каналам;
4. Программа- 3 должна обеспечивать взаимодействие с программами-1,-2 и стандартным вводом, работает в многопоточном режиме, а также выполняет следующие функции:  
* обмен сообщениям по именованным/не именованным каналам с приложениями-1,-2;
* обмен сообщениями со стандартным потоком ввода/вывода, в том числе прием команд от пользователя (см. общие требования к работе ВС).  
5. Встраиваемая система должна обеспечивать выдачу результатов работы в следующем формате:  
* сообщение 1 типа: «время измерения вспышки № х: _____» (hh:mm:ss);
* сообщение 2 типа: «время измерения хлопка № х: _______» (hh:mm:ss);
* сообщение 3 типа: «расстояние до грозы № х: ______» в метрах.

__Порядок выполнения и сдачи курсового проекта:__
1. [Лабораторная работа №1](lab_01.md)
2. [Лабораторная работа №2](lab_02.md)
3. [Лабораторная работа №3](lab_03.md)
4. [Лабораторная работа №4](lab_04.md)
5. [Лабораторная работа №5](lab_05.md)
6. [Лабораторная работа №6](lab_06.md)
7. [Лабораторная работа №7](lab_07.md)
8. [Лабораторная работа №8](lab_08.md)

