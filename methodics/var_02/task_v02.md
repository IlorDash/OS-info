## Вариант 2 курсового проекта дисциплины "Операционные системы"

__Описание задания:__  
Необходимо разработать прототип встраиваемой системы, как совокупность программного обеспечения и стенда на базе Raspberry Pi4, которая позволяла бы определять c помощью двух ультразвуковых дальномеров расстояние до препятствия и выводить результат на LCD-экран. Дальномеры могут быть с различными интерфейсами (uart, GPIO, adc). Результат измерения расстояния (или серии измеренных расстояний) должны также выводиться в терминале персонального компьютера, подключенного к встраиваемой системе через ssh-соединение.   

__Общая схема и принципы работы встраиваемой системы:__  
Схема соединений всего используемого оборудования представлена на рисунке ниже:  
![Схема варианта 2](Вариант2-1.png)


__Перечень используемого оборудования:__
* микрокомпьютер Raspberry Pi 4;
* отладочная плата OS с подключенными: дальномерами HC-SR04, GP2Y0A02YK0F (поключение через ADC1115), а также LCD MSP3521;
* персональный компьютер c установленным ПО (Putty, WinSCP, Git).

__Требования к работе встраиваемой системы:__  
1. Встраиваемая система должна обеспечивать измерения расстояния и вывод его на экран за счет выполнения трех основных программ: 1 – программа, принимающая сигналы с дальномера №1, 2 – программа, принимающая сигналы с дальномера №2, 3 – программа, получающая данные от программ 1 и 2 по одному из способов межпроцессного взаимодействия (именованные и неименованные каналы) и выводящее измеряемые расстояния на LCD-экран.
2. Программы-1 и -2 должны обеспечивать взаимодействие RPi 4 с модулями ультразвуковых дальномеров по интерфейсу uart/GPIO/АЦП, работают в многопоточном режиме и выполняют следующие функции:
* настройка режима работы дальномера и его тип подключения (uart/gpio/adc) по аргументу при старте или через команду по именованным каналам;
* чтение или вычисление значений расстояния по подключенным к интерфейсам RPi дальномерам в метрах;
* выдача данных о расстоянии с временной меткой системы по именованным каналам;
* прием команд остановки и старта работы по именованным каналам;
3. Программа-3 должна обеспечивать взаимодействие с программами-1,-2, стандартным вводом, выводит информацию на LCD-экран по SPI, работает в многопоточном режиме, а также выполняет следующие функции:
* обмен сообщениям по именованным каналам с приложениями-1,-2;
* конфигурирует работу SPI интерфейса по аргументам при старте или через команду по именованным каналам;
* вывод информации на LCD-экран по SPI в формате: «время измерения № х: _____» (hh:mm:ss), «расстояние № х дальномера 1: _______» (м); «расстояние № х дальномера 2: _______» (м); «усредненное расстояние № х: _______» (м);
* обмен сообщениями со стандартным потоком ввода/вывода, в том числе прием команд от пользователя (start, stop, killall).
4. Встраиваемая система должна обеспечивать выдачу результатов работы на консоль в следующем формате: 
* сообщение 1 типа: «время измерения № х: _____» (hh:mm:ss);
* сообщение 2 типа: «усредненное расстояние № х: _______» (м);

__Порядок выполнения и сдачи [курсового проекта](task_v02.md):__
1. [Лабораторная работа №1](lab_01.md)
2. [Лабораторная работа №2](lab_02.md)
3. [Лабораторная работа №3](lab_03.md)
4. [Лабораторная работа №4](lab_04.md)
5. [Лабораторная работа №5](lab_05.md)
6. [Лабораторная работа №6](lab_06.md)
7. [Лабораторная работа №7](lab_07.md)
8. [Лабораторная работа №8](lab_08.md)