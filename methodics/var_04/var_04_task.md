## Вариант 4 курсового проекта дисциплины "Операционные системы" - В04

__Описание задания:__  
Необходимо разработать прототип встраиваемой системы, как совокупность программного обеспечения и стенда на базе Raspberry Pi4, которая бы выводила на LCD-дисплей время (опционально: в виде циферблата часов с часовой, минутной и секундной стрелками), а также позволяла настраивать время с помощью энкодера кнопок. Время и операция его изменения энкодером должны дублироваться в терминал персонального компьютера, подключенного к встраиваемой системе через ssh-соединение.   

__Общая схема и принципы работы встраиваемой системы:__  
Схема соединений всего используемого оборудования представлена на рисунке ниже:  
![Схема варианта 4](var_04_task.png)


__Перечень используемого оборудования:__
* микрокомпьютер Raspberry Pi 4;
* отладочная плата OS с подключенными: энкодером KY-040, а также LCD MSP3521;
* персональный компьютер c установленным ПО (Putty, WinSCP, Git).

__Требования к работе встраиваемой системы:__  
1. Встраиваемая система должна обеспечивать вывод времени за счет выполнения трех основных программ: 1 – программа, работающая с LCD-дисплеем и выводящая время (опционально: в виде циферблата часов), 2 – программа, принимающая сигналы с энкодара и определяющая приращение угла поворота (каждое изменения угла соответствует 1 секунде), 3 – программа, по нажатию на кнопку переводящая работу системы в режим настройки времени и передающая приращение угла поворота энкодера в программу-1 по одному из способов межпроцессного взаимодействия (именованные и неименованные каналы).
2. Программа-1 должна обеспечивать взаимодействие RPi 4 с модулем LCD-дисплея по интерфейсу SPI и выполняет следующие функции:
* настройка и инициализация LCD-дисплея;
* запись и чтение значений регистров LCD-дисплея;
* строчное отображение времения (опционально: отрисовка циферблата часов по текущему времени);
* изменение времени по приходящим по именованым каналла данным приращения угла поворота секундной стрелки;
3. Программа-2 должна обеспечивать взаимодействие RPi с датчиком угла поворота (энкодером) по GPIO и выполняет следующие функции:
* чтение значений GPIO и вычисление угла поворота;
* отправка значения приращения угла поворота по не именованным каналам.
4. Программа-3 должна обеспечивать взаимодействие с программами-1,-2, стандартным потоком вводом/вывода, работает в многопоточном режиме, а также выполняет следующие функции:
* обработка нажатия кнопок для изменения времени (копка SW энкодера - вход/выход из режима настройки времени, BUTTON0 - переключение изменяемого поля времени справа налево, BUTTON1 - слева направо);
* обмен сообщениям по именованным/не именованным каналам с приложениями-1,-2;
* обмен сообщениями со стандартным потоком ввода/вывода, в том числе прием команд от пользователя (stop, start, set_time).
5. Встраиваемая система должна обеспечивать выдачу результатов работы на консоль в следующем формате: 
* «сигнал на изменение времени в ______ (hh:mm:ss)»;
* «время изменено на ______ (hh:mm:ss)».


__Порядок выполнения и сдачи [курсового проекта](var_04_task.md):__
1. [Этап проекта №1](var_04_stage_01.md)
2. [Этап проекта №2](var_04_stage_02.md)
3. [Этап проекта №3](var_04_stage_03.md)
4. [Этап проекта №4](var_04_stage_04.md)
5. [Этап проекта №5](var_04_stage_05.md)
6. [Этап проекта №6](var_04_stage_06.md)
7. [Этап проекта №7](var_04_stage_07.md)
8. [Этап проекта №8](var_04_stage_08.md)
